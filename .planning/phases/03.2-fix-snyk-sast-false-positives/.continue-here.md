---
phase: 03.2-fix-snyk-sast-false-positives
task: 0
total_tasks: 5
status: planned_not_started
last_updated: 2026-01-21T02:52:00Z
---

<current_state>
Phase 3.2 planning just completed. Research and 2 plans created. Verification passed.

**Position:** Phase 3.2 fully planned, ready to execute
**Plans:** 2 plans in 2 waves
**Execution:** Not yet started

Phase 3.2 was inserted to address ISS-006 (Snyk SAST false positives causing EC failures on operator/proxy/webhook PRs). This is a **stage release blocker** - must be resolved before Phase 4 can proceed.
</current_state>

<completed_work>

This session:
- Ran `/gsd:plan-phase 3.2`
- Research completed → `03.2-RESEARCH.md` created
- Plan 03.2-01 created → Locate false positives, test #nosec approach
- Plan 03.2-02 created → Implement fix, verify EC passes
- Plan verification passed (gsd-plan-checker approved both plans)
</completed_work>

<remaining_work>

Execute Phase 3.2:

**Plan 03.2-01 (Wave 1) — Autonomous:**
- Task 1: Extract Snyk findings from Konflux pipeline logs
- Task 2: Test whether #nosec G101 comments work with Snyk Code
- Output: SNYK-FINDINGS.md, APPROACH-DECISION.md

**Plan 03.2-02 (Wave 2) — Has checkpoint:**
- Task 1: Implement suppressions in operator code (create PR)
- Task 2: (checkpoint) Verify EC passes on PR
- Task 3: Close ISS-006 and update project state
- Output: Merged PR, ISS-006 closed
</remaining_work>

<decisions_made>

From research:
- Primary approach: inline `#nosec G101 -- [justification]` comments
- Fallback: IGNORE_FILE_PATHS if #nosec doesn't work with Snyk Code
- Anti-pattern: .snyk files CANNOT ignore SAST findings (only SCA)
- Testing first: Plan 01 validates #nosec approach before Plan 02 implements
</decisions_made>

<blockers>

- **ISS-006 is the blocker we're fixing** — 15-16 Snyk SAST false positives
  - Kubernetes Secret resource names flagged (e.g., "tekton-results-postgres")
  - Environment variable keys flagged (e.g., "POSTGRES_PASSWORD")
  - EC checks fail, but GitHub merge still works (workaround)
  - Must fix for stage release
</blockers>

<context>

**Problem context:**
- Snyk SAST scanner in Konflux flags hardcoded credential patterns (G101/CWE-798)
- Our operator code has Secret resource NAMES (not values) that trigger false positives
- EC (Enterprise Contract) fails on these, blocking clean stage releases

**Research findings:**
- .snyk file ignores DON'T WORK for SAST (only dependency vulnerabilities)
- #nosec G101 comments are the recommended approach
- UNKNOWN: Does Snyk Code in Konflux actually respect #nosec? (Plan 01 tests this)
- KFP (Known False Positives) system is undocumented internal Red Hat tool

**Plan structure:**
- Wave 1: Discovery - Find exact files/lines, test if #nosec works
- Wave 2: Implementation - Add comments, verify EC passes, close ISS-006

**After Phase 3.2:** Phase 4 (Stage Release) is unblocked
</context>

<next_action>
Run: `/gsd:execute-phase 3.2`

This will start Plan 03.2-01 which:
1. Extracts Snyk findings from Konflux logs (PRs #14352-14355)
2. Documents all 15-16 false positives in SNYK-FINDINGS.md
3. Tests whether #nosec G101 comments work
4. Creates APPROACH-DECISION.md confirming strategy

After Plan 01 completes, Plan 02 will implement the fix.
</next_action>
