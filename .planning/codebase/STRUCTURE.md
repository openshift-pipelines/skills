# Codebase Structure

**Analysis Date:** 2026-01-19

## Directory Layout

```
skills/
├── bin/                    # Executable scripts
│   └── install.js         # npx installer (main entry point)
├── commands/               # Skill definitions (namespaced)
│   └── osp/               # OpenShift Pipelines namespace
│       ├── configure.md   # Auth setup
│       ├── debug.md       # Run debugger
│       ├── help.md        # Reference guide
│       ├── map-jira-to-upstream.md
│       ├── pipeline.md    # Tekton Pipeline creator
│       ├── release-checklist.md
│       ├── release-status.md
│       ├── component-status.md
│       ├── operator-release.md
│       └── task.md        # Tekton Task creator
├── tests/                  # Unit tests
│   └── install.test.js    # Vitest suite for installer
├── .github/                # GitHub configuration
│   └── workflows/
│       └── ci.yml         # CI/CD pipeline
├── .planning/              # Development planning
│   └── codebase/          # Codebase documentation
├── package.json            # npm metadata
├── package-lock.json       # npm lockfile
├── vitest.config.js        # Test configuration
├── .env.example            # Environment template
├── .gitignore              # Git ignore rules
├── README.md               # User documentation
└── LICENSE                 # Apache-2.0
```

## Directory Purposes

**bin/**
- Purpose: CLI entry points
- Contains: `install.js` - 229 lines, installer executable
- Key files: Single file handles all installation logic
- Subdirectories: None

**commands/osp/**
- Purpose: Slash command definitions for Claude Code
- Contains: 10 `.md` files (one per skill)
- Key files: All files are runnable skills
- Subdirectories: None (flat structure)

**tests/**
- Purpose: Unit tests for installer
- Contains: `install.test.js` - 163 lines, Vitest suite
- Key files: Tests parseArgs, expandTilde, copyDirectory
- Subdirectories: None

**.github/workflows/**
- Purpose: CI/CD automation
- Contains: `ci.yml` - tests on Node 18.x and 20.x
- Key files: Validates tests and skill YAML frontmatter

**.planning/codebase/**
- Purpose: Auto-generated codebase documentation
- Contains: 7 analysis documents
- Key files: STACK.md, ARCHITECTURE.md, STRUCTURE.md, etc.

## Key File Locations

**Entry Points:**
- `bin/install.js` - CLI entry (npx entry point)

**Configuration:**
- `package.json` - Project metadata, scripts, engines
- `vitest.config.js` - Test runner configuration
- `.env.example` - Environment variable template

**Core Logic:**
- `bin/install.js` - All installation logic (parseArgs, expandTilde, copyDirectory)

**Testing:**
- `tests/install.test.js` - Unit tests for installer functions

**Documentation:**
- `README.md` - User-facing installation and usage guide
- `commands/osp/help.md` - In-app help reference

## Naming Conventions

**Files:**
- kebab-case.md: Command/skill files (`map-jira-to-upstream.md`)
- camelCase.js: JavaScript source (`install.js`)
- .test.js suffix: Test files (`install.test.js`)

**Directories:**
- lowercase: All directories (`bin/`, `commands/`, `tests/`)
- Plural for collections: `commands/`, `tests/`

**Special Patterns:**
- `osp/` namespace: OpenShift Pipelines skills namespace
- `.example` suffix: Template files (`.env.example`)

## Where to Add New Code

**New Skill:**
- Definition: `commands/osp/{skill-name}.md`
- Tests: N/A (skills are integration-tested by users)
- Documentation: Update `commands/osp/help.md` skill list

**New Installer Feature:**
- Implementation: `bin/install.js`
- Tests: `tests/install.test.js`
- Documentation: Update `README.md`

**New Namespace:**
- Create: `commands/{namespace}/`
- Update: `bin/install.js` to handle multiple namespaces

**Utilities:**
- Current: All utilities inline in `bin/install.js`
- If extracted: Create `lib/` directory

## Special Directories

**commands/**
- Purpose: Skills installed to `~/.claude/commands/`
- Source: Copied by `bin/install.js` during installation
- Committed: Yes (source of truth)

**.planning/**
- Purpose: Development documentation
- Source: Generated by codebase mapping
- Committed: Yes (tracked for reference)

---

*Structure analysis: 2026-01-19*
*Update when directory structure changes*
