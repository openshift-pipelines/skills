# Konflux Pipeline Freshness Report

## Assessment Summary

**Assessment Date:** 2026-01-19T11:57:55Z
**Threshold:** 72 hours
**Release Version:** 1.15.4
**Branch Pattern:** release-v1.15.x (or component-specific)

### Status Summary

| Status | Count | Components |
|--------|-------|------------|
| Fresh (< 72h) | 3 | console-plugin, manual-approval-gate, operator |
| Stale (> 72h) | 8 | tektoncd-git-clone, pac-downstream, tektoncd-chains, tektoncd-cli, tektoncd-hub, tektoncd-pipeline, tektoncd-results, tektoncd-triggers |

**Critical Finding:** 73% of components (8/11) have stale images that need rebuilding before release.

## Component Details

### Fresh Components (No Action Required)

| Component | Branch | Last Commit | Age | Status |
|-----------|--------|-------------|-----|--------|
| console-plugin | release-v1.15.x | 2026-01-19T06:28:38Z | 10h | ✅ FRESH |
| manual-approval-gate | release-v0.2.2 | 2026-01-19T08:10:17Z | 9h | ✅ FRESH |
| operator | release-v1.15.x | 2026-01-19T08:15:35Z | 9h | ✅ FRESH |

### Stale Components (Action Required in Phase 2)

| Component | Branch | Last Commit | Age | Status |
|-----------|--------|-------------|-----|--------|
| tektoncd-pipeline | release-v1.15.x | 2025-10-17T10:02:28Z | 2263h (~94 days) | ⚠️ STALE |
| tektoncd-triggers | release-v1.15.x | 2025-10-07T08:29:19Z | 2504h (~104 days) | ⚠️ STALE |
| tektoncd-chains | release-v1.15.x | 2025-10-07T08:26:32Z | 2505h (~104 days) | ⚠️ STALE |
| tektoncd-results | release-v1.15.x | 2025-10-07T08:22:54Z | 2505h (~104 days) | ⚠️ STALE |
| tektoncd-hub | release-v1.15.x | 2025-10-07T08:18:24Z | 2505h (~104 days) | ⚠️ STALE |
| tektoncd-cli | release-v1.15.x | 2025-10-31T02:43:53Z | 1934h (~80 days) | ⚠️ STALE |
| pac-downstream | release-v1.15.x | 2025-10-31T02:17:23Z | 1935h (~80 days) | ⚠️ STALE |
| tektoncd-git-clone | release-v1.15.x | 2025-10-07T08:08:22Z | 2505h (~104 days) | ⚠️ STALE |

## Phase 2 Action Items

For each stale component, trigger a Konflux on-push pipeline rebuild using one of these methods:

### Option A: Empty Commit (Recommended)

Push an empty commit to trigger the on-push pipeline:

```bash
# For each stale component:
git clone https://github.com/openshift-pipelines/<component> -b <branch> --depth=1
cd <component>
git commit --allow-empty -m "chore: trigger Konflux rebuild for 1.15.4 release"
git push
```

### Option B: Workflow Dispatch

If the repository has a re-trigger workflow:

```bash
gh workflow run <workflow>.yaml --repo openshift-pipelines/<component> --ref <branch>
```

### Option C: Konflux UI

Manually trigger build from Konflux console at:
https://console.redhat.com/application-pipeline/workspaces/tekton-ecosystem-tenant/applications

## Stale Component Re-trigger Checklist

| # | Component | Repo URL | Branch | Action |
|---|-----------|----------|--------|--------|
| 1 | tektoncd-pipeline | https://github.com/openshift-pipelines/tektoncd-pipeline | release-v1.15.x | Empty commit |
| 2 | tektoncd-triggers | https://github.com/openshift-pipelines/tektoncd-triggers | release-v1.15.x | Empty commit |
| 3 | tektoncd-chains | https://github.com/openshift-pipelines/tektoncd-chains | release-v1.15.x | Empty commit |
| 4 | tektoncd-results | https://github.com/openshift-pipelines/tektoncd-results | release-v1.15.x | Empty commit |
| 5 | tektoncd-hub | https://github.com/openshift-pipelines/tektoncd-hub | release-v1.15.x | Empty commit |
| 6 | tektoncd-cli | https://github.com/openshift-pipelines/tektoncd-cli | release-v1.15.x | Empty commit |
| 7 | pac-downstream | https://github.com/openshift-pipelines/pac-downstream | release-v1.15.x | Empty commit |
| 8 | tektoncd-git-clone | https://github.com/openshift-pipelines/tektoncd-git-clone | release-v1.15.x | Empty commit |

## Components Not in Hack Config

The following components mentioned in the original plan are **not** configured in the hack repo's `config/konflux/repos/` for 1.15.x:

- `opc` - Not part of 1.15.x release scope
- `tekton-caches` - Not part of 1.15.x release scope
- `tektoncd-pruner` - Not part of 1.15.x release scope

These components may be built separately or aren't included in this release.

## Impact on Release Timeline

**Critical:** The 8 stale components must be rebuilt before proceeding with the dev release.

After triggering rebuilds:
1. Wait for all 8 Konflux on-push pipelines to complete successfully
2. Verify images exist in `quay.io/redhat-user-workloads/tekton-ecosystem-tenant/`
3. Then proceed to Phase 2, Plan 02-03 for verification before dev release

## Notes

- **Operator has recent activity (9h)** - likely due to PR #903 for oauth2 CVE fix
- **Console-plugin and MAG are fresh** - both built within last 10 hours
- **All other components haven't been touched since October 2025** - this is expected for stable release branches between releases

---
*Generated by Phase 1 Plan 2: Konflux Pipeline Freshness Assessment*
*Date: 2026-01-19*
