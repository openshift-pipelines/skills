---
phase: 03-dev-release
task: 2
total_tasks: 4
status: fixing_blocker
last_updated: 2026-01-19T15:20:00Z
---

<current_state>
ISS-005 fix in progress. Created direct fix PR #14224 to operator repo that adds serviceAccountName to all 12 index pipeline files. Waiting for merge.

Previous attempt via hack repo (Option 2) failed due to filename pattern mismatch between old (1.15 uses dash: `4-15`) and new (1.22+ uses dot: `4.15`) branches. Reverted and switched to Option B (direct fix).
</current_state>

<completed_work>
- Task 1: Run index-render-template workflow ✅ (run #21140605709)
- ISS-005 Investigation: Identified root cause (missing serviceAccountName in taskRunTemplate)
- Hack repo attempt: Created PR #436, merged, but generated files with wrong naming pattern
- Cleanup: Closed 16 bot PRs across downstream repos, created revert PR #437
- Direct fix: Created PR #14224 to operator repo with correct serviceAccountName
</completed_work>

<remaining_work>
- Merge hack repo revert PR #437 (cleanup)
- Merge operator fix PR #14224 (the actual fix)
- Retrigger/rebase original catalog PRs #14207-#14212 to pick up fixed pipelines
- Task 2: Merge catalog PRs once they pass CI
- Task 3: Copy images from Konflux to devel registry (skopeo copy)
- Task 4: Verify devel images and generate QE handoff
</remaining_work>

<decisions_made>
- Chose Option B (direct fix) over Option 2 (hack repo) because:
  - Hack repo generator creates files with dot pattern (`4.15`)
  - Existing 1.15 files use dash pattern (`4-15`)
  - Generator adds new files instead of updating existing ones
  - Direct fix is simpler and more reliable for old branches
- Fixed all 12 index files (6 OCP versions × 2 pipeline types: pull-request + push)
- Service account naming: `build-pipeline-operator-1-15-index-4-XX`
</decisions_made>

<blockers>
- ISS-005: Fix PR #14224 pending merge
  - Once merged, catalog PRs should pass CI
  - Status: PR created, awaiting review/merge
</blockers>

<context>
The ISS-005 blocker prevented Phase 3 dev release execution. Root cause was empty `taskRunTemplate: {}` in index pipeline files - they need `serviceAccountName` for registry credentials during git-clone-oci-ta task.

We tried the "proper" fix through the hack repo but discovered a generator issue: it creates files with dot pattern for OCP versions (`4.15`) while old branches like 1.15 use dash pattern (`4-15`). This is a known gap - older branches were created before a generator restructure in November 2025.

The direct fix approach (editing 12 files to add serviceAccountName) is the right path forward for this release.
</context>

<open_prs>
**Needs merge:**
- https://github.com/openshift-pipelines/hack/pull/437 (revert - cleanup)
- https://github.com/openshift-pipelines/operator/pull/14224 (THE FIX)

**After fix merged, retrigger:**
- #14207: v4.18 catalog
- #14208: v4.17 catalog
- #14209: v4.15 catalog
- #14210: v4.16 catalog
- #14211: v4.14 catalog (may skip - EOL)
- #14212: v4.12 catalog (may skip - EOL)
</open_prs>

<next_action>
1. Merge PR #14224 (operator fix) - this unblocks everything
2. Merge PR #437 (hack revert) - cleanup
3. Retrigger catalog PRs or wait for them to be rebased
4. Once catalog PRs pass, merge them
5. Resume 03-01-PLAN.md at Task 3 (skopeo copy to devel registry)
</next_action>
